<!DOCTYPE html>
<html>
<head>
  <title>Panda Care Sim</title>
  <style>
    body { font-family: sans-serif; background: #e0f7fa; padding: 20px; transition: background 0.5s; }
    .box { background: #fff; padding: 15px; margin-bottom: 20px; border-radius: 8px; box-shadow: 0 0 5px #ccc; }
    button { margin: 5px; }
    #journal { max-height: 150px; overflow-y: auto; background: #f9f9f9; padding: 10px; border-radius: 6px; }
  </style>
</head>
<body>

<div class="box">
  <h3>ğŸ¼ Panda</h3>
  <p>Name: <span id="pandaNameDisplay">Pandy</span></p>
  <input type="text" id="pandaNameInput" placeholder="Name your panda" />
  <button onclick="renamePanda()">Rename</button>
  <p>Age: <span id="pandaAge">0</span> days</p>
  <p>Trait: <span id="pandaTrait">Playful</span></p>
  <p>Mood: <span id="pandaMoodDisplay">Happy</span></p>
  <p>Outfit: <span id="pandaOutfit">None</span></p>
  <p id="pandaMessage">Pandy looks at you curiously...</p>
</div>

<div class="box">
  <h4>ğŸ¼ Panda Needs</h4>
  <p>Hunger: <span id="pandaHungerDisplay">100</span>/100</p>
  <p>Thirst: <span id="pandaThirstDisplay">100</span>/100</p>
  <p>Cleanliness: <span id="pandaCleanDisplay">100</span>/100</p>
  <button onclick="feedPanda()">Feed Bamboo ğŸ‹</button>
  <button onclick="giveWater()">Give Water ğŸ’§</button>
  <button onclick="cleanPanda()">Give Bath ğŸ›</button>
  <p id="pandaStatusMessage">Pandy is feeling great!</p>
</div>

<div class="box">
  <h3>ğŸ£ Bamboo Gathering</h3>
  <button onclick="gatherBamboo()">Gather Bamboo</button>
  <p>Bamboo Inventory: <span id="bambooCount">0</span></p>
</div>

<div class="box">
  <h3>ğŸ§´ Medicine Cabinet</h3>
  <button onclick="giveMedicine()">Give Medicine ğŸ’Š</button>
  <button onclick="buyMedicine()">Buy Medicine (10ğŸ’°)</button>
  <p>Medicine Inventory: <span id="medicineCount">1</span></p>
</div>

<div class="box">
  <h3>ğŸ§¸ Toy Box</h3>
  <button onclick="playWithToy()">Play with Toy ğŸˆ</button>
  <button onclick="buyToy()">Buy Toy (8ğŸ’°)</button>
  <p>Toys: <span id="toyCount">1</span></p>
</div>

<div class="box">
  <h3>ğŸ© Accessories</h3>
  <button onclick="changeOutfit()">Change Outfit</button>
</div>

<div class="box">
  <h3>ğŸ¡ Habitat</h3>
  <button onclick="changeBackground()">Change Background</button>
</div>

<div class="box">
  <h3>ğŸ’° Coins</h3>
  <p>Coins: <span id="coinCount">20</span></p>
</div>

<div class="box">
  <h3>ğŸ““ Panda Journal</h3>
  <div id="journal"></div>
</div>

<script>
  let pandaName = "Pandy";
  let bambooInventory = 0;
  let medicineInventory = 1;
  let toyInventory = 1;
  let coins = 20;
  let pandaHunger = 100;
  let pandaThirst = 100;
  let pandaClean = 100;
  let pandaMood = "Happy";
  let pandaAge = 0;
  let pandaTrait = randomTrait();
  let pandaOutfit = "None";
  let backgrounds = ["#e0f7fa", "#fce4ec", "#f3e5f5", "#fff3e0"];
  let currentBg = 0;

  function randomTrait() {
    const traits = ["Playful", "Lazy", "Shy", "Greedy", "Curious"];
    return traits[Math.floor(Math.random() * traits.length)];
  }

  function renamePanda() {
    const input = document.getElementById("pandaNameInput").value;
    if (input.trim() !== "") {
      pandaName = input;
      logEvent(`You renamed your panda to ${pandaName}.`);
    }
    updatePandaStatus();
  }

  function feedPanda() {
    if (bambooInventory > 0 && pandaHunger < 100) {
      bambooInventory--;
      pandaHunger += 10;
      logEvent(`${pandaName} ate bamboo.`);
    } else {
      logEvent(`Feeding failed. No bamboo or panda not hungry.`);
    }
    updateMood();
    updatePandaStatus();
  }

  function giveWater() {
    if (pandaThirst < 100) {
      pandaThirst += 10;
      logEvent(`${pandaName} drank water.`);
    } else {
      logEvent(`${pandaName} isn't thirsty.`);
    }
    updateMood();
    updatePandaStatus();
  }

  function cleanPanda() {
    pandaClean = 100;
    logEvent(`You gave ${pandaName} a bath.`);
    updateMood();
    updatePandaStatus();
  }

  function gatherBamboo() {
    bambooInventory++;
    coins += 5;
    logEvent(`You gathered bamboo and earned 5 coins.`);
    updatePandaStatus();
  }

  function giveMedicine() {
    if (medicineInventory > 0 && pandaMood === "Sick") {
      medicineInventory--;
      pandaMood = "Happy";
      logEvent(`${pandaName} took medicine and feels better.`);
    } else {
      logEvent(`Medicine failed. Either not sick or no medicine.`);
    }
    updatePandaStatus();
  }

  function buyMedicine() {
    if (coins >= 10) {
      coins -= 10;
      medicineInventory++;
      logEvent(`You bought medicine.`);
    } else {
      logEvent(`Not enough coins to buy medicine.`);
    }
    updatePandaStatus();
  }

  function buyToy() {
    if (coins >= 8) {
      coins -= 8;
      toyInventory++;
      logEvent(`You bought a toy.`);
    } else {
      logEvent(`Not enough coins to buy toy.`);
    }
    updatePandaStatus();
  }

  function playWithToy() {
    if (toyInventory > 0) {
      toyInventory--;
      pandaMood = "Playful";
      logEvent(`${pandaName} played with a toy.`);
    } else {
      logEvent(`No toys to play with.`);
    }
    updatePandaStatus();
  }

  function changeOutfit() {
    const outfits = ["None", "Hat ğŸ©", "Scarf ğŸ§£", "Glasses ğŸ•¶ï¸"];
    pandaOutfit = outfits[Math.floor(Math.random() * outfits.length)];
    logEvent(`${pandaName} is now wearing: ${pandaOutfit}`);
    updatePandaStatus();
  }

  function changeBackground() {
    currentBg = (currentBg + 1) % backgrounds.length;
    document.body.style.background = backgrounds[currentBg];
    logEvent(`You changed the habitat background.`);
  }

  function updateMood() {
    if (pandaHunger < 30 || pandaThirst < 30 || pandaClean < 30) {
      pandaMood = Math.random() < 0.3 ? "Sick" : "Sad";
    } else if (pandaHunger > 80 && pandaThirst > 80 && pandaClean > 80) {
      pandaMood = "Playful";
    } else {
      pandaMood = "Grumpy";
    }

    if (Math.random() < 0.05) {
      pandaMood = "Sick";
      logEvent(`${pandaName} got sick randomly.`);
    }
  }

  function logEvent(text) {
    const journal = document.getElementById("journal");
    const entry = document.createElement("p");
    entry.textContent = text;
    journal.prepend(entry);
  }

  function updatePandaStatus() {
  document.getElementById("pandaNameDisplay").textContent = pandaName;
  document.getElementById("pandaAge").textContent = pandaAge;
  document.getElementById("pandaTrait").textContent = pandaTrait;
  document.getElementById("pandaMoodDisplay").textContent = pandaMood;
  document.getElementById("pandaOutfit").textContent = pandaOutfit;
  document.getElementById("pandaHungerDisplay").textContent = pandaHunger;
  document.getElementById("pandaThirstDisplay").textContent = pandaThirst;
  document.getElementById("pandaCleanDisplay").textContent = pandaClean;
  document.getElementById("bambooCount").textContent = bambooInventory;
  document.getElementById("medicineCount").textContent = medicineInventory;
  document.getElementById("toyCount").textContent = toyInventory;
  document.getElementById("coinCount").textContent = coins;

  let moodMessage = "";
  switch (pandaMood) {
    case "Happy":
      moodMessage = `${pandaName} is feeling great!`;
      break;
    case "Sad":
      moodMessage = `${pandaName} looks down... maybe they're hungry, thirsty, or dirty.`;
      break;
    case "Sick":
      moodMessage = `${pandaName} seems sick. You should take extra care.`;
      break;
    case "Playful":
      moodMessage = `${pandaName} is bouncing around playfully!`;
      break;
    case "Grumpy":
      moodMessage = `${pandaName} is grumpy. Maybe they need attention.`;
      break;
  }

  document.getElementById("pandaStatusMessage").textContent = moodMessage;
}

  function checkDailyBonus() {
  const today = new Date().toDateString();
  const lastLogin = localStorage.getItem("lastLogin");

  if (lastLogin !== today) {
    coins += 10;
    pandaAge += 1;
    localStorage.setItem("lastLogin", today);
    logEvent(`Daily bonus: 10 coins! ${pandaName} is now ${pandaAge} days old.`);
    updatePandaStatus();
  }
}

checkDailyBonus();


  setInterval(() => {
  if (pandaHunger > 0) pandaHunger -= 1;
  if (pandaThirst > 0) pandaThirst -= 1;
  if (pandaClean > 0) pandaClean -= 1;
  updateMood();
  updatePandaStatus();
}, 60000); // every 60 seconds

updatePandaStatus();
</script>

</body>
</html>
